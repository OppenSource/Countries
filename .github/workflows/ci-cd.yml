name: CI/CD

on:
  push:
    branches:
      - master
      - develop

  pull_request:
    branches:
      - master

jobs:
  tests:
    runs-on: ubuntu-lastest
    steps:
      - name: Checkout code
        uses: action/checkout@v2

      - name: Setup Node
        uses: actions/setup_node@v2
        with:
          node_version: 18.x

      - name: Installer les d√©pendances
        run: npm install

      # permet de savoir quelles parties de l'application sont convers par les tests
      - name: Tests
        run: npm run test -- --no-watch --code-coverage
